<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIMPLE_SQL_ROW - API Reference</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1>SIMPLE_SQL</h1>
                <span class="version">v1.0 - 460+ Tests</span>
            </div>

            <div class="nav-section">
                <h3>Getting Started</h3>
                <ul>
                    <li><a href="../index.html">Overview</a></li>
                    <li><a href="../getting-started.html">Quick Start</a></li>
                    <li><a href="../installation.html">Installation</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <h3>Core API</h3>
                <ul>
                    <li><a href="database.html">SIMPLE_SQL_DATABASE</a></li>
                    <li><a href="result.html">SIMPLE_SQL_RESULT</a></li>
                    <li><a href="row.html" class="active">SIMPLE_SQL_ROW</a></li>
                    <li><a href="prepared-statement.html">SIMPLE_SQL_PREPARED_STATEMENT</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <h3>Query Builders</h3>
                <ul>
                    <li><a href="select-builder.html">SIMPLE_SQL_SELECT_BUILDER</a></li>
                    <li><a href="insert-builder.html">SIMPLE_SQL_INSERT_BUILDER</a></li>
                    <li><a href="update-builder.html">SIMPLE_SQL_UPDATE_BUILDER</a></li>
                    <li><a href="delete-builder.html">SIMPLE_SQL_DELETE_BUILDER</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <h3>Advanced Features</h3>
                <ul>
                    <li><a href="eager-loader.html">Eager Loading (N+1)</a></li>
                    <li><a href="paginator.html">Pagination</a></li>
                    <li><a href="query-monitor.html">Query Monitor</a></li>
                    <li><a href="fts5.html">Full-Text Search</a></li>
                    <li><a href="json.html">JSON Support</a></li>
                    <li><a href="audit.html">Audit Tracking</a></li>
                    <li><a href="vector.html">Vector Embeddings</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <h3>Mock Applications</h3>
                <ul>
                    <li><a href="../mock-apps/todo.html">TODO App</a></li>
                    <li><a href="../mock-apps/cpm.html">CPM Scheduler</a></li>
                    <li><a href="../mock-apps/habit-tracker.html">Habit Tracker</a></li>
                    <li><a href="../mock-apps/dms.html">Document Management</a></li>
                </ul>
            </div>
        </nav>

        <main class="main-content">
            <div class="breadcrumbs">
                <a href="../index.html">Home</a> <span>&rsaquo;</span> <a href="../index.html#api">API</a> <span>&rsaquo;</span> SIMPLE_SQL_ROW
            </div>

            <h1>SIMPLE_SQL_ROW</h1>
            <p>Represents a single row from a query result. Provides typed accessors for column values by name or position.</p>
            <p><a class="eis-link" href="eiffel:?class=SIMPLE_SQL_ROW">View Source</a></p>

            <div class="api-class">
                <div class="api-class-header">
                    <h2>Typed Accessors (by column name)</h2>
                </div>
                <div class="api-class-body">
                    <div class="api-feature">
                        <div class="api-feature-sig">string_value (a_column: READABLE_STRING_8): STRING_32</div>
                        <div class="api-feature-desc">Get string value. Returns empty string if NULL.</div>
                    </div>
                    <div class="api-feature">
                        <div class="api-feature-sig">integer_value (a_column: READABLE_STRING_8): INTEGER_64</div>
                        <div class="api-feature-desc">Get integer value. Returns 0 if NULL.</div>
                    </div>
                    <div class="api-feature">
                        <div class="api-feature-sig">real_value (a_column: READABLE_STRING_8): REAL_64</div>
                        <div class="api-feature-desc">Get floating-point value. Returns 0.0 if NULL.</div>
                    </div>
                    <div class="api-feature">
                        <div class="api-feature-sig">boolean_value (a_column: READABLE_STRING_8): BOOLEAN</div>
                        <div class="api-feature-desc">Get boolean (0 = False, non-zero = True).</div>
                    </div>
                    <div class="api-feature">
                        <div class="api-feature-sig">blob_value (a_column: READABLE_STRING_8): detachable MANAGED_POINTER</div>
                        <div class="api-feature-desc">Get BLOB data as raw bytes.</div>
                    </div>
                </div>
            </div>

            <div class="api-class">
                <div class="api-class-header">
                    <h2>Nullable Accessors</h2>
                </div>
                <div class="api-class-body">
                    <div class="api-feature">
                        <div class="api-feature-sig">string_value_or_void (a_column: READABLE_STRING_8): detachable STRING_32</div>
                        <div class="api-feature-desc">Get string or Void if NULL.</div>
                    </div>
                    <div class="api-feature">
                        <div class="api-feature-sig">integer_value_or_void (a_column: READABLE_STRING_8): detachable INTEGER_64_REF</div>
                        <div class="api-feature-desc">Get integer reference or Void if NULL.</div>
                    </div>
                    <div class="api-feature">
                        <div class="api-feature-sig">real_value_or_void (a_column: READABLE_STRING_8): detachable REAL_64_REF</div>
                        <div class="api-feature-desc">Get real reference or Void if NULL.</div>
                    </div>
                </div>
            </div>

            <div class="callout tip">
                <div class="callout-title">Nullable Columns</div>
                <p>Use the <code>*_or_void</code> variants when you need to distinguish between NULL and default values (0, empty string).</p>
            </div>

            <div class="api-class">
                <div class="api-class-header">
                    <h2>Positional Access</h2>
                </div>
                <div class="api-class-body">
                    <div class="api-feature">
                        <div class="api-feature-sig">item (a_index: INTEGER): detachable ANY</div>
                        <div class="api-feature-desc">Get value at 1-based position. Returns native SQLite type.</div>
                    </div>
                </div>
            </div>

            <div class="api-class">
                <div class="api-class-header">
                    <h2>NULL Checking</h2>
                </div>
                <div class="api-class-body">
                    <div class="api-feature">
                        <div class="api-feature-sig">is_null (a_column: READABLE_STRING_8): BOOLEAN</div>
                        <div class="api-feature-desc">True if column value is NULL.</div>
                    </div>
                    <div class="api-feature">
                        <div class="api-feature-sig">has_column (a_column: READABLE_STRING_8): BOOLEAN</div>
                        <div class="api-feature-desc">True if column exists in this row.</div>
                    </div>
                </div>
            </div>

            <h2>Examples</h2>

            <h3>Typed Access</h3>
            <pre><code class="eiffel"><span class="keyword">across</span> result <span class="keyword">as</span> row <span class="keyword">loop</span>
    print (<span class="string">"ID: "</span> + row.integer_value (<span class="string">"id"</span>).out + <span class="string">"%N"</span>)
    print (<span class="string">"Name: "</span> + row.string_value (<span class="string">"name"</span>) + <span class="string">"%N"</span>)
    print (<span class="string">"Active: "</span> + row.boolean_value (<span class="string">"active"</span>).out + <span class="string">"%N"</span>)
    print (<span class="string">"Score: "</span> + row.real_value (<span class="string">"score"</span>).out + <span class="string">"%N"</span>)
<span class="keyword">end</span></code></pre>

            <h3>Handling NULLs</h3>
            <pre><code class="eiffel"><span class="keyword">across</span> result <span class="keyword">as</span> row <span class="keyword">loop</span>
    <span class="keyword">if</span> row.is_null (<span class="string">"deleted_at"</span>) <span class="keyword">then</span>
        print (<span class="string">"Active record%N"</span>)
    <span class="keyword">else</span>
        print (<span class="string">"Deleted at: "</span> + row.string_value (<span class="string">"deleted_at"</span>) + <span class="string">"%N"</span>)
    <span class="keyword">end</span>

    <span class="comment">-- Or use nullable accessor</span>
    <span class="keyword">if</span> <span class="keyword">attached</span> row.string_value_or_void (<span class="string">"notes"</span>) <span class="keyword">as</span> notes <span class="keyword">then</span>
        print (<span class="string">"Notes: "</span> + notes + <span class="string">"%N"</span>)
    <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>

            <h3>Positional Access (for computed columns)</h3>
            <pre><code class="eiffel">result := db.query (<span class="string">"SELECT COUNT(*), MAX(price) FROM products"</span>)
<span class="keyword">if</span> <span class="keyword">attached</span> result.first <span class="keyword">as</span> row <span class="keyword">then</span>
    <span class="keyword">if</span> <span class="keyword">attached</span> {INTEGER_64} row.item (1) <span class="keyword">as</span> l_count <span class="keyword">then</span>
        print (<span class="string">"Count: "</span> + l_count.out + <span class="string">"%N"</span>)
    <span class="keyword">end</span>
    <span class="keyword">if</span> <span class="keyword">attached</span> {REAL_64} row.item (2) <span class="keyword">as</span> l_max <span class="keyword">then</span>
        print (<span class="string">"Max price: "</span> + l_max.out + <span class="string">"%N"</span>)
    <span class="keyword">end</span>
<span class="keyword">end</span></code></pre>

            <div class="callout warning">
                <div class="callout-title">Type Handling</div>
                <p>SQLite has dynamic typing. When using <code>item()</code>, the returned type depends on SQLite's
                internal storage. Use typed accessors (<code>string_value</code>, etc.) for predictable behavior.</p>
            </div>

            <div class="doc-footer">
                <p><a href="result.html">&larr; SIMPLE_SQL_RESULT</a> | <a href="prepared-statement.html">SIMPLE_SQL_PREPARED_STATEMENT &rarr;</a></p>
            </div>
        </main>
    </div>
</body>
</html>
